<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>API Documentation &#8212; obiwan 1.2.0 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Obiwan</a>
        <span class="navbar-text navbar-version pull-left"><b>1.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="#">API</a></li>
                <li><a href="tutorials.html">Tutorials</a></li>
                <li><a href="deeplearning.html">Deep Learning</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">This Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">API Documentation</a><ul>
<li><a class="reference internal" href="#modules">Modules</a></li>
<li><a class="reference internal" href="#post-processing">Post-Processing</a></li>
<li><a class="reference internal" href="#analysis-plotting">Analysis &amp; Plotting</a></li>
<li><a class="reference internal" href="#scaling-tests">Scaling Tests</a></li>
<li><a class="reference internal" href="#tests">Tests</a></li>
<li><a class="reference internal" href="#deep-learning">Deep Learning</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="api-documentation">
<h1>API Documentation<a class="headerlink" href="#api-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 8)</p>
failed to import obiwan.kenobi</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 8)</p>
toctree references unknown document ‘_autosummary/obiwan.kenobi’</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.mk_fits_image.html#module-obiwan.mk_fits_image" title="obiwan.mk_fits_image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.mk_fits_image</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.kenobi</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.runs.html#module-obiwan.runs" title="obiwan.runs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.runs</span></code></a></td>
<td>Grabs, configures, and otherwise sets up a production run on eBOSS DR3 data or DR5 data</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.common.html#module-obiwan.common" title="obiwan.common"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.common</span></code></a></td>
<td>Commonly used functions</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan._version.html#module-obiwan._version" title="obiwan._version"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan._version</span></code></a></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.time_per_brick.html#module-obiwan.time_per_brick" title="obiwan.time_per_brick"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.time_per_brick</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.fetch.html#module-obiwan.fetch" title="obiwan.fetch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.fetch</span></code></a></td>
<td>Download and unpack tarballs</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.db_tools.html#module-obiwan.db_tools" title="obiwan.db_tools"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.db_tools</span></code></a></td>
<td>Query our PostgreSQL Databases at NERSC</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.draw_radec_color_z.html#module-obiwan.draw_radec_color_z" title="obiwan.draw_radec_color_z"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.draw_radec_color_z</span></code></a></td>
<td>Draw random location and galaxy properties from Gaussian Mixtures</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="post-processing">
<h2>Post-Processing<a class="headerlink" href="#post-processing" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.runmanager.qdo_tasks.html#module-obiwan.runmanager.qdo_tasks" title="obiwan.runmanager.qdo_tasks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.runmanager.qdo_tasks</span></code></a></td>
<td>Given a ra,dec bounding box of region to inject simulated sources, and the number density of simulated sources, these functions write the ‘qdo’ task list of each brick to process, repeated for how iterations will be needed per brick</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.runmanager.update_imagefn_if_doesnt_exist.html#module-obiwan.runmanager.update_imagefn_if_doesnt_exist" title="obiwan.runmanager.update_imagefn_if_doesnt_exist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.runmanager.update_imagefn_if_doesnt_exist</span></code></a></td>
<td>Images used in DR3 are now in different location on project/staging.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.runmanager.derived_tables.html#module-obiwan.runmanager.derived_tables" title="obiwan.runmanager.derived_tables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.runmanager.derived_tables</span></code></a></td>
<td>Post-processes the obiwan/, tractor/, data products.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.runmanager.status.html#module-obiwan.runmanager.status" title="obiwan.runmanager.status"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.runmanager.status</span></code></a></td>
<td>Monitors an obiwan production run using qdo</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.runmanager.merge_tables.html#module-obiwan.runmanager.merge_tables" title="obiwan.runmanager.merge_tables"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.runmanager.merge_tables</span></code></a></td>
<td>Reads 1000s per brick tables and merges them</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="analysis-plotting">
<h2>Analysis &amp; Plotting<a class="headerlink" href="#analysis-plotting" title="Permalink to this headline">¶</a></h2>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 36)</p>
failed to import obiwan.qa.plots_randomsprops_fluxdiff</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 36)</p>
failed to import obiwan.qa.aaron_healpix</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 36)</p>
failed to import obiwan.qa.tally</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 36)</p>
toctree references unknown document ‘_autosummary/obiwan.qa.plots_randomsprops_fluxdiff’</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 36)</p>
toctree references unknown document ‘_autosummary/obiwan.qa.aaron_healpix’</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 36)</p>
toctree references unknown document ‘_autosummary/obiwan.qa.tally’</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.qa.plots_common.html#module-obiwan.qa.plots_common" title="obiwan.qa.plots_common"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.plots_common</span></code></a></td>
<td>commonly used code for plotting and analysis</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.qa.plots_footprint.html#module-obiwan.qa.plots_footprint" title="obiwan.qa.plots_footprint"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.plots_footprint</span></code></a></td>
<td>Draw box around region of intertest, show where injected sources, color code sources by those with obiwa tractor catalogues</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.qa.number_finished_by_slurm.html#module-obiwan.qa.number_finished_by_slurm" title="obiwan.qa.number_finished_by_slurm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.number_finished_by_slurm</span></code></a></td>
<td>Given a qdo slurm log file, this computes the fraction of launched bricks that resulted in a tractor table to the total number of launched bricksself.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.qa.plots_using_csv_files.html#module-obiwan.qa.plots_using_csv_files" title="obiwan.qa.plots_using_csv_files"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.plots_using_csv_files</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.plots_randomsprops_fluxdiff</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.aaron_healpix</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.qa.unique_ccds_dr3.html#module-obiwan.qa.unique_ccds_dr3" title="obiwan.qa.unique_ccds_dr3"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.unique_ccds_dr3</span></code></a></td>
<td>Searches a DataRelase like directory for all legacysurvey*ccd.fits files, creates a no-duplicate set of all CCDs included in that DR, and writes the list to disk.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.qa.cpu_hours.html#module-obiwan.qa.cpu_hours" title="obiwan.qa.cpu_hours"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.cpu_hours</span></code></a></td>
<td>Uses ‘SLURM sacct’ to compute the number of CPU and MPP hours</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.tally</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.qa.visual.html#module-obiwan.qa.visual" title="obiwan.qa.visual"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.qa.visual</span></code></a></td>
<td>Helper functions for plotting fits and numpy 2D arrays as images</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="scaling-tests">
<h2>Scaling Tests<a class="headerlink" href="#scaling-tests" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.scaling.select_bricks.html#module-obiwan.scaling.select_bricks" title="obiwan.scaling.select_bricks"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.scaling.select_bricks</span></code></a></td>
<td>Choose N (10 in my thesis) random bricks with grz CCDs that have completed processing with obiwan.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.scaling.timing.html#module-obiwan.scaling.timing" title="obiwan.scaling.timing"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.scaling.timing</span></code></a></td>
<td>Script to make the obiwan scaling plots in my thesis</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">¶</a></h2>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 62)</p>
failed to import tests.run_200x200_pixel_regions</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 62)</p>
failed to import tests.test_200x200_pixel_regions</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 62)</p>
toctree references unknown document ‘_autosummary/tests.run_200x200_pixel_regions’</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 62)</p>
toctree references unknown document ‘_autosummary/tests.test_200x200_pixel_regions’</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/tests.__init__.html#module-tests.__init__" title="tests.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tests.__init__</span></code></a></td>
<td>tests</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">tests.run_200x200_pixel_regions</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">tests.test_200x200_pixel_regions</span></code></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="deep-learning">
<h2>Deep Learning<a class="headerlink" href="#deep-learning" title="Permalink to this headline">¶</a></h2>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 72)</p>
failed to import obiwan.dplearn.create_training</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">/global/cscratch1/sd/huikong/obiwan_Aug/repos_for_docker/obiwan_webpage/obiwan/doc/api.rst</tt>, line 72)</p>
toctree references unknown document ‘_autosummary/obiwan.dplearn.create_training’</div>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.dplearn.create_training</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="_autosummary/obiwan.dplearn.split_testtrain.html#module-obiwan.dplearn.split_testtrain" title="obiwan.dplearn.split_testtrain"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.dplearn.split_testtrain</span></code></a></td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="_autosummary/obiwan.dplearn.cnn.html#module-obiwan.dplearn.cnn" title="obiwan.dplearn.cnn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">obiwan.dplearn.cnn</span></code></a></td>
<td>Trains a CNN on fake and real galaxy images using TensorFlow.</td>
</tr>
</tbody>
</table>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014-2018, Kaylan Burleigh, John Moustakas.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>