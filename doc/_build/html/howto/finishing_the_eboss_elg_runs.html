<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Finishing the eBOSS ELG Runs (ch5 of my thesis) &#8212; obiwan 1.2.0 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head><body>

  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          Obiwan</a>
        <span class="navbar-text navbar-version pull-left"><b>1.2.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../api.html">API</a></li>
                <li><a href="../tutorials.html">Tutorials</a></li>
                <li><a href="../deeplearning.html">Deep Learning</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Pages <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">This Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Finishing the eBOSS ELG Runs (ch5 of my thesis)</a><ul>
<li><a class="reference internal" href="#data-is-on-hpss">Data is on HPSS</a></li>
<li><a class="reference internal" href="#joint-distributions-for-eboss-elg-flux-shape-and-redshift">Joint Distributions for eBOSS ELG flux, shape, and redshift</a></li>
<li><a class="reference internal" href="#development-that-should-be-done-before-running-the-unfinished-bricks">Development that should be done before running the unfinished bricks</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="finishing-the-eboss-elg-runs-ch5-of-my-thesis">
<h1>Finishing the eBOSS ELG Runs (ch5 of my thesis)<a class="headerlink" href="#finishing-the-eboss-elg-runs-ch5-of-my-thesis" title="Permalink to this headline">¶</a></h1>
<div class="section" id="data-is-on-hpss">
<h2>Data is on HPSS<a class="headerlink" href="#data-is-on-hpss" title="Permalink to this headline">¶</a></h2>
<p>The outputs from all of my eBOSS ELG runs are backed up on the NERSC tape archive (HPSS) for user <code class="docutils literal notranslate"><span class="pre">kaylanb</span></code>. I wrote the outputs to Cori CSCRATCH but nearly all of them have been purged. You can look here to see what’s left <code class="docutils literal notranslate"><span class="pre">/global/cscratch1/sd/kaylanb/obiwan_out]ls</span> <span class="pre">eboss_elg/</span></code>. There must be a way to make these readable by other users. In addition the derived tables are there. All the plots can be remade using the derived tables.</p>
<ul class="simple">
<li>outputs on tape: named <code class="docutils literal notranslate"><span class="pre">eboss_elg*may7.tar</span></code></li>
<li>derived table: named <code class="docutils literal notranslate"><span class="pre">eboss_elg_derived_04_11_2018_merged.tar</span></code></li>
</ul>
<p>You can find out which bricks need to be finished by looking at the derived tables. Once you finish them you’ll need to start the <strong>wonderful</strong> task of transferring the terrabyotes of my finished brick outputs off tape, untar them, and merge with your terrabytes of outputs. Then make a final derived table that includes yours + my finished brick outputs.</p>
</div>
<div class="section" id="joint-distributions-for-eboss-elg-flux-shape-and-redshift">
<h2>Joint Distributions for eBOSS ELG flux, shape, and redshift<a class="headerlink" href="#joint-distributions-for-eboss-elg-flux-shape-and-redshift" title="Permalink to this headline">¶</a></h2>
<p>Samples of eBOSS ELG flux, shape, and redshift are stored in 4 <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files. Obiwan creates the randoms tables using <cite>draw_radec_color_z.py</cite> and it needs these <code class="docutils literal notranslate"><span class="pre">.csv</span></code> files. Running the obiwan test suite should tell you where to download them from. But just in case, there are here:
<code class="docutils literal notranslate"><span class="pre">http://portal.nersc.gov/project/desi/users/kburleigh/obiwan/eboss_elg_sample_csvs.tar.gz</span></code>
They are also on my google drive in case data on /project gets deleted for some reason.</p>
</div>
<div class="section" id="development-that-should-be-done-before-running-the-unfinished-bricks">
<h2>Development that should be done before running the unfinished bricks<a class="headerlink" href="#development-that-should-be-done-before-running-the-unfinished-bricks" title="Permalink to this headline">¶</a></h2>
<p>The module <code class="docutils literal notranslate"><span class="pre">obiwan/db_tools.py</span></code> has a function for querying the PSQL db for all randoms contained in a given brick, you should add a new function that takes the output of that query function and writes it to a FITS tabled named something like <code class="docutils literal notranslate"><span class="pre">randoms/bri/brick.fits</span></code>. Then run obiwan using the <code class="docutils literal notranslate"><span class="pre">--randoms_from_fits</span></code> option to read the randoms to inject from a fits table instead of the PSQL db. This should be a pre-processing step. e.g. Make a list of all the bricks I didn’t finish (that you want to finish), make this randoms table for each brick, then run obiwan on those bricks using those randoms tables. PSQL is an added complexity that we can (and should) avoid in the obiwan run.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014-2018, Kaylan Burleigh, John Moustakas.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>